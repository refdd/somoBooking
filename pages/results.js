import Head from "next/head";
import React from "react";
import HeaderList from "@/components/list/HeaderList";
import ListTourcontainer from "@/components/list/ListTourcontainer";
import FilterDesktop from "@/components/list/FilterDesktop";
import Subscribe from "@/components/mainSections/Subscribe";
import DownLoadApp from "@/components/mainSections/DownLoadApp";
import NotMember from "@/components/mainSections/NotMember";
import Footer from "@/components/mainSections/Footer";
import FaQSection from "@/components/mainSections/FaQSection";
import MainHeaderList from "@/components/list/MainHeaderList";
import { baseUrl, fetchApi } from "@/utils/ferchApi"
import From from "@/components/single/From";

function Results({tours}) {
    console.log(tours);
    return (
        <>
          <Head>
            <title>list Popular Saudi Tours </title>
            <meta name="description" content="Generated by create next app" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <link rel="icon" href="/favicon.ico" />
          </Head>
          <MainHeaderList title={"SAUDI ARABIA TOURS"} />
    
          <div className="py-2 bg-[#f5f5f5]"> </div>
          <div className=" grid grid-cols-1 gap-5  md:grid-cols-3">
            <div className="hidden md:block col-span-1 mt-5">
              <From idPackage={"list Search"}/>
            </div>
            <div className="col-span-2">
              <HeaderList />
              <ListTourcontainer
                pageType={"list-Popular-Saudi-Tours"}
                tours={tours}
              />
            </div>
          </div>
          {/* <FaQSection /> */}
          <Subscribe />
          <DownLoadApp />
          <NotMember />
          <Footer />
        </>
      );
}
export async function getServerSideProps({ query }) {
    const type_id = query.type_id || '2';
    const region_id = query.region_id || '1';
    const date = query.date || '2021-12-12';
   
    const tours = await fetchApi(
      `${baseUrl}/packages?type_id=${type_id}&region_id=${region_id}&date=${date}`
    );
  
    return {
      props: {
        tours: tours.data,
      },
    };
  }
  
export default Results